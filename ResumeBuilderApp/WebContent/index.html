<!DOCTYPE html>
<style type="text/css">.style1 {
	margin-top: 0;
}
</style>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6 lt8"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7 lt8"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8 lt8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="UTF-8" />
        <!-- <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">  -->
        <title>Login and Registration Form with HTML5 and CSS3</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <meta name="description" content="Login and Registration Form with HTML5 and CSS3" />
        <meta name="keywords" content="html5, css3, form, switch, animation, :target, pseudo-class" />
        <meta name="author" content="Codrops" />
        <link rel="shortcut icon" href="file:///E:/Testing%20Practicum/ResumeBuilderApp/favicon.ico"> 
        <link rel="stylesheet" type="text/css" href="css/demo.css" />
        <link rel="stylesheet" type="text/css" href="css/style2.css" />
		<link rel="stylesheet" type="text/css" href="css/animate-custom.css" />
		<link rel="shortcut icon" href="file:///E:/Testing%20Practicum/ResumeBuilderApp/WebContent/img/favicon.ico">
		<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet" type="text/css">
		<script src="https://apis.google.com/js/client:platform.js?onload=render" async defer></script>
    	<!-- JQuery -->
   	 	<script type="text/javascript" src="js/jquery.js"></script>
    	<!-- Load ScrollTo -->
    	<script type="text/javascript" src="js/jquery.scrollTo-1.4.2-min.js"></script>
    	<!-- Load LocalScroll -->
    	<script type="text/javascript" src="js/jquery.localscroll-1.2.7-min.js"></script>
    	<!-- prettyPhoto Initialization -->
    </head>
    <body style="height: 672px">
        <div class="container">
            <section>
            <!-- Facebook script starts here -->
			<script>

				// This is called with the results from from FB.getLoginStatus().
				function statusChangeCallback(response) {
					console.log('statusChangeCallback');
					console.log(response);
					// The response object is returned with a status field that lets the
					// app know the current login status of the person.
					// Full docs on the response object can be found in the documentation
					// for FB.getLoginStatus().
					if (response.status === 'connected') {
						// Logged into your app and Facebook.
						testAPI();
					} else if (response.status === 'not_authorized') {
						// The person is logged into Facebook, but not your app.
						//document.getElementById('status').innerHTML = 'Please log '
								//+ 'into this app.';
					} else {
						// The person is not logged into Facebook, so we're not sure if
						// they are logged into this app or not.
						//document.getElementById('status').innerHTML = 'Please log '
								//+ 'into Facebook.';
					}
				}

				// This function is called when someone finishes with the Login
				// Button.  See the onlogin handler attached to it in the sample
				// code below.
				function checkLoginState() {
					FB.getLoginStatus(function(response) {
						statusChangeCallback(response);
					});
				}

				window.fbAsyncInit = function() {
					FB.init({
						appId : '1384077391830997',
						cookie : true, // enable cookies to allow the server to access 
						// the session
						xfbml : true, // parse social plugins on this page
						version : 'v2.1' // use version 2.1
					});

					FB.getLoginStatus(function(response) {
						statusChangeCallback(response);
					});

				};

				// Load the SDK asynchronously
				(function(d, s, id) {
					var js, fjs = d.getElementsByTagName(s)[0];
					if (d.getElementById(id))
						return;
					js = d.createElement(s);
					js.id = id;
					js.src = "//connect.facebook.net/en_US/sdk.js";
					fjs.parentNode.insertBefore(js, fjs);
				}(document, 'script', 'facebook-jssdk'));

				// Here we run a very simple test of the Graph API after login is
				// successful.  See statusChangeCallback() for when this call is made.
				function testAPI() {
					console.log('Welcome!  Fetching your information.... ');
					FB
							.api(
									'/me',
									function(response) {
										console.log('Successful login for: '
												+ response.name + '\n'
												+ response.email + '\n'
												+ response.first_name + '\n'
												+ response.last_name);
										//document.getElementById('status').innerHTML = 'Thanks for logging in, '
												//+ response.name + '!';
									});
				}
			</script>
			<!-- - Facebook script ends here -->
			<!--   Google plus script ends here   -->
			<style>
#gSignInWrapper {
    width:165px;
    float:left
}
#customBtn {
    display: inline-block;
    background: #dd4b39;
    color: white;
    width: 165px;
    border-radius: 5px;
    white-space: nowrap;
    cursor:pointer
}
#customBtn:hover {
    background: #e74b37;
    cursor: hand;
}
span.label {
    font-weight: bold;
}
span.icon {
    background: url('https://google-developers.appspot.com/+/images/branding/btn_red_32.png') transparent 5px 50% no-repeat;
    display: inline-block;
    vertical-align: middle;
    width: 35px;
    height: 35px;
    border-right: #bb3f30 1px solid;
}
span.buttonText {
    display: inline-block;
    vertical-align: middle;
    padding-left: 7px;
    font-size: 14px;
    font-weight: bold;
    font-family: 'Roboto',arial,sans-serif;
}
#revokeButton {
    display:none
}
</style>
  </style>
			<!--   Google plus script ends here   -->
			<div id="container_demo" style="height: 99px" >
			<br>
			<br><br><br>
                    <!-- hidden anchor to stop jump http://www.css3create.com/Astuce-Empecher-le-scroll-avec-l-utilisation-de-target#wrap4  -->
                    <a class="hiddenanchor" id="toregister"></a>
                    <a class="hiddenanchor" id="tologin"></a>
                    <div id="wrapper">
                        <div id="login" class="style1">
                                <h1>Log in</h1>
								<script>
                                function checkEmailExistsSignIn(){
    								var email = document.getElementById("username").value;
    								var url='CheckEmailExists?email='+email;
    					    		console.log("url: "+url);
    					    		$.get(url,function(resp){ 
    					    			var res = resp;
    					    			 <!--console.log("resp: "+res);-->
    					    			if(res != ""){
    					    				console.log("hi I'm false");
    					    				document.getElementById("error").innerHTML="";
    					    				document.getElementById("loginButton").hidden = "";
    					    			}
    					    			else
    					    			{
    					    				console.log("hi I'm true");
    					    				document.getElementById("error").innerHTML="<font color='red'>Email NOT registered<br></font>"+
    					    							"<font color='black'><a href='index.html#toregister'>ClickHere</a>for Register Page</font>";
    					    				document.getElementById("loginButton").hidden = "hidden";
    					    			}    				
    					    		});
    							};
                                </script>
                                <form  action="SignInServlet" method="post" autocomplete="off"> 
                                <p> 
                                    <label for="username" class="uname" data-icon="u" > Your email or username </label>
                                    <input id="username" name="username" required="required" type="text" onchange="checkEmailExistsSignIn()" placeholder="myusername or mymail@mail.com"/>
                                	<!-- below div is to check whether Email exists-->
                                	<div id="error" align= "right" height: 2px" style="font-style:italic;">                       
                                	</div>
                                </p>
                                <p> 
                                    <label for="password" class="youpasswd" data-icon="p"> Your password </label>
                                    <input id="password" name="password" required="required" type="password" placeholder="eg. X8df!90EO" /> 
                                </p>
                                <p class="keeplogin"> 
									<input type="checkbox" name="loginkeeping" id="loginkeeping" value="loginkeeping" /> 
									<label for="loginkeeping">Keep me logged in</label>
								</p>
							<p class="login button"><input type="submit" value="Login" id="loginButton" />
								<div class="fb-login-button" scope="public_profile,email"
									onlogin="checkLoginState();" data-max-rows="1"
									data-size="xlarge" data-show-faces="false"
									data-auto-logout-link="false"></div>
								<div id="status"></div>
								<br>
								<div id="customBtn" class="customGPlusSignIn" style="width: 125px; height: 35px">
									<p class="auto-style1">
									<span class="icon"></span> <span class="buttonText">Google</span>
									</p>
								</div>
							<!-- In the callback, you would hide the gSignInWrapper element on a successful sign in -->
							<div id="gSignInWrapper">
							</div>
							</p>
							<p class="change_link">
									Not a member yet ?
									<a href="#toregister" class="to_register">Join us</a>
								</p>
                            </form>
                        </div>
						<script>
							function checkMobileNumber(){
								<!--alert("function");-->
								var phone = document.getElementById("phonenumber").value;
								//console.log("resp: "+phone);
								if((phone.length) != 10 || phone.match(/^[0-9]+$/) == null){
									document.getElementById("errorMobile").innerHTML = "<font color='red'>Enter a valid 10 digit Mobile Number</font>";										
									document.getElementById("register-button").hidden = "hidden";
								}
								else{
									document.getElementById("errorMobile").innerHTML="";
								}
							};
							function passwordValidation(){
								var pwd = document.getElementById("passwordsignup").value;
								if(pwd.length < 8 || pwd.match(/^[0-9]+$/) != null){
									//console.log("resp: "+pwd);
									document.getElementById("errorPassword").innerHTML="<font color='red'>Choose a strong password</font>";
									document.getElementById("register-button").hidden = "hidden";
								}
								else{
									//console.log("resp: "+pwd);
									document.getElementById("errorPassword").innerHTML="";
									document.getElementById("register-button").hidden = "";
								}
							};
							function checkAllFieldsFilled(){
								
								var fname = document.getElementById("firstnamesignup").value;
								var lname = document.getElementById("lastnamesignup").value;
								var email = document.getElementById("emailsignup").value;
								var mobileNo = document.getElementById("phonenumber").value;
								var password = document.getElementById("passwordsignup").value; 
								if(fname && lname && email && mobileNo && password){
									<!--console.log("Visible");-->
									document.getElementById("register-button").hidden = "";
								}
								else if(!fname || !lname ||  !email ||  !mobileNo || !password){
									<!--console.log("hidden");-->
									document.getElementById("register-button").hidden = "hidden";
								}
									
							};
							function checkEmailExists(){
								var email = document.getElementById("emailsignup").value;
								var url='CheckEmailExists?email='+email;
					    		console.log("url: "+url);
					    		$.get(url,function(resp){ 
					    			var res = resp;
					    			 <!--console.log("resp: "+res);-->
					    			if(res == ""){
					    				console.log("hi I'm false");
					    				document.getElementById("errorSignUp").innerHTML="";
					    				document.getElementById("register-button").hidden = "";
					    			}
					    			else
					    			{
					    				console.log("hi I'm true");
					    				document.getElementById("errorSignUp").innerHTML="<font color='red'>Email Already registered<br></font>"+
					    							"<font color='black'><a href='index.html#tologin'>ClickHere</a>for signIn Page</font>";
					    				document.getElementById("register-button").hidden = "hidden";
					    			}    				
					    		});
							};
						</script>
                        <div id="register" class="animate form">
                            <form  action="RegistrationServlet" method="post" autocomplete="off"> 
                                <h1> Sign up </h1> 
                                <p> 
                                    <label for="firstnamesignup" class="uname" data-icon="u">Your first name</label>
                                    <input id="firstnamesignup" id = "firstname" name="firstname" onchange="checkAllFieldsFilled()" required="required" type="text" placeholder="first name" />
                                </p>
								<p> 
                                    <label for="lastnamesignup" class="uname" data-icon="u">Your last name</label>
                                    <input id="lastnamesignup" id="lastname" name="lastname" onchange="checkAllFieldsFilled()" required="required" type="text" placeholder="Last name" />
                                </p>
                                <p> 
                                    <label for="emailsignup" class="youmail" data-icon="e" > Your email</label>
                                    <input id="emailsignup" name="email" required="required" onchange="checkAllFieldsFilled()" onkeyup="checkEmailExists()" type="email" placeholder="mysupermail@mail.com"/> 
                                	<div id="errorSignUp" align= "right" height: 2px" style="font-style:italic;"></div>
                                </p>
								</p>
								<p> 
                                    <label for="phonenumber" class="uname" data-icon="e" >Mobile Number</label>
                                    <input id="phonenumber" name="phonenumber" required="required" type="text" onchange="checkAllFieldsFilled()" onkeyup = "checkMobileNumber()" placeholder="10 digit mobile number"/> 
									<div id="errorMobile" align= "right" height: 2px style="font-style:italic;"><font color="red"></font>                            
                                	</div>								
                                </p>
                                <p> 
                                    <label for="passwordsignup" class="youpasswd" data-icon="p">Your password </label>
                                    <input id = "passwordsignup" name="password" required="required" type="password" placeholder="eg. X8df!90EO" onkeyup = "passwordValidation()" onchange="checkAllFieldsFilled()"/>
									<div id="errorPassword" align= "right" height: 2px style="font-style:italic;"><font color="red"></font>                            
                                	</div>
								</p>
                                <p class="signin button"> 
									<input type="submit" id="register-button" hidden = "hidden" value="Sign up"/> 
								</p>
                                <p class="change_link">  
									Already a member ?
									<a href="#tologin" class="to_register"> Go and log in </a>
								</p>
                            </form>
                        </div>
						
                    </div>
                </div>  
            </section>
        </div>
    </body>
</html>